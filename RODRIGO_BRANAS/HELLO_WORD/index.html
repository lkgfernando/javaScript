<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hello Word</title>
</head>

<body>
  <script>

    function proporcional(lancamento) {
      receita = 0
      porcentagem = 0

      for (lancamento of lancamento) {
        if (lancamento.tipo === "receita") {
          receita += lancamento.valor
        }
        if (lancamento.tipo === "despesa") {
          porcentagem = Math.round((lancamento.valor / receita) * 100)
          console.log(`${lancamento.categoria} -> ${porcentagem} %`)
        }
      }
    }

    function arrendondar(value) {
      return Math.round(value * 100) / 100
    }

    function calcularJuros(value) {
      juros = arrendondar(value * 0.10)
      return juros
    }

    function calcularRendimento(value) {
      redimento = arrendondar(value * 0.005)
      return redimento
    }

    function calcularSaldo(mes, saldoInicial, lancamentos) {
      saldo = saldoInicial
      for (lancamentos of lancamentos) {
        if (lancamentos.tipo === "receita") {
          saldo += lancamentos.valor
        }
        if (lancamentos.tipo === "despesa") {
          saldo -= lancamentos.valor
        }
      }
      estaNegativo1 = saldo < 0
      console.log(mes);
      if (estaNegativo1) {
        juros = calcularJuros(saldo)
        saldo = arrendondar(saldo + juros)
        console.log(`Juros mês ${mes}:  ${juros}`)
        console.log(`Saldo acumulado ${mes}:  ${saldo}`)
      } else {
        rendimento = calcularRendimento(saldo)
        saldo = arrendondar(saldo + rendimento)
        console.log(`Rendimentos mês de ${mes}:  ${rendimento}`)
        console.log(`Saldo acumulado ${mes}: ${saldo}`)
      }
      return arrendondar(saldo)
    }

    //----------------- Janeiro ------------------------------------
    mes1 = "Janeiro"
    saldoInicial1 = 0
    lancamentoJaneiro = [
      { categoria: "Sálario", tipo: "receita", valor: 3600 },
      { categoria: "Aluguel", tipo: "despesa", valor: 750 },
      { categoria: "Conta de Luz", tipo: "despesa", valor: 110 },
      { categoria: "Conta de Agua", tipo: "despesa", valor: 95 },
      { categoria: "Internet", tipo: "despesa", valor: 99 },
      { categoria: "Transporte", tipo: "despesa", valor: 35 },
      { categoria: "Lazer", tipo: "despesa", valor: 424 },
      { categoria: "Alimentacao", tipo: "despesa", valor: 1800 },
      { categoria: "Condominio", tipo: "despesa", valor: 110 },
      { categoria: "Farmacia", tipo: "despesa", valor: 110 },
      { categoria: "Cartao Crédito", tipo: "despesa", valor: 10 }]

    saldo1 = calcularSaldo(mes1, saldoInicial1, lancamentoJaneiro)
    // porcentagem = 0
    // receita = 0
    // if (lancamentoJaneiro.tipo === "receita") {
    //   receita = lancamentoJaneiro.valor
    //   console.log("Receita" + receita)
    // }
    // for (lancamentoJaneiro of lancamentoJaneiro) {
    //   if (lancamentoJaneiro.tipo === "despesa") {
    //     porcentagem = (receita / lancamentoJaneiro.valor) * 100
    //   }
    //   console.log(porcentagem)

    // }


    proporcional(lancamentoJaneiro)
    console.log("_______________________________________________________ ")

    //------------------------ FEVEREIRO ----------------------------------------------------
    mes2 = "Fevereiro"
    saldoInicial2 = saldo1
    lancamentoFevereiro = [
      { categoria: "Sálario", tipo: "receita", valor: 3600 },
      { categoria: "Aluguel", tipo: "despesa", valor: 754 },
      { categoria: "Conta de Luz", tipo: "despesa", valor: 110 },
      { categoria: "Conta de Agua", tipo: "despesa", valor: 93 },
      { categoria: "Internet", tipo: "despesa", valor: 99 },
      { categoria: "Transporte", tipo: "despesa", valor: 35 },
      { categoria: "Lazer", tipo: "despesa", valor: 424 },
      { categoria: "Alimentacao", tipo: "despesa", valor: 1500 },
      { categoria: "Condominio", tipo: "despesa", valor: 110 },
      { categoria: "Farmacia", tipo: "despesa", valor: 110 },
      { categoria: "Cartao Crédito", tipo: "despesa", valor: 330 }]

    saldo2 = calcularSaldo(mes2, saldoInicial2, lancamentoFevereiro)
    proporcional(lancamentoFevereiro)
    console.log("_______________________________________________________ ")
    //------------------------ MARÇO ----------------------------------------------------
    mes3 = "Março"
    saldoInicial3 = saldo2
    lancamentoMarco = [
      { categoria: "Sálario", tipo: "receita", valor: 3600 },
      { categoria: "Aluguel", tipo: "despesa", valor: 754 },
      { categoria: "Conta de Luz", tipo: "despesa", valor: 110 },
      { categoria: "Conta de Agua", tipo: "despesa", valor: 93 },
      { categoria: "Internet", tipo: "despesa", valor: 99 },
      { categoria: "Transporte", tipo: "despesa", valor: 35 },
      { categoria: "Lazer", tipo: "despesa", valor: 424 },
      { categoria: "Alimentacao", tipo: "despesa", valor: 1300 },
      { categoria: "Condominio", tipo: "despesa", valor: 110 },
      { categoria: "Farmacia", tipo: "despesa", valor: 110 },
      { categoria: "Cartao Crédito", tipo: "despesa", valor: 1500 }]
    saldo3 = calcularSaldo(mes3, saldoInicial3, lancamentoMarco)

    proporcional(lancamentoMarco)

    console.log("_______________________________________________________ ")
    //ano
    console.log("ANO");
    console.log(saldo3);

    console.log("_______________________________________________________ ")






  </script>

</body>

</html>